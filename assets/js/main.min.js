var $,instagramCarregado=!1,fotosProdutosCarregados=!1,nav=$("nav"),navHeight=nav.outerHeight();function scrollWindow(){$(window).scrollTop()>50?($(".navbar-expand-md").addClass("navbar-reduce"),$(".navbar-expand-md").removeClass("navbar-trans")):($(".navbar-expand-md").addClass("navbar-trans"),$(".navbar-expand-md").removeClass("navbar-reduce")),$(window).scrollTop()>1200?$(".scrolltop-mf").fadeIn(1e3,"easeInOutExpo"):$(".scrolltop-mf").fadeOut(1e3,"easeInOutExpo"),$(this).scrollTop()>=4e3&&!1==instagramCarregado&&(instagramCarregado=!0,carregarInstagram()),$(this).scrollTop()>=3e3&&!1==fotosProdutosCarregados&&(fotosProdutosCarregados=!0,carregarFotosProdutos()),$(this).scrollTop()>100?$(".back-to-top").fadeIn("slow"):$(".back-to-top").fadeOut("slow"),$("#mainNav").removeClass("no-show")}function carregarInstagram(){var e={user:"dienimoraessemijoias",title:"SIGA NOSSO INSTAGRAM",limit:6,userid:0x3f62b178e279e6};$.ajax({url:"https://app.dienimoraes.com.br/api/1.1/wf/get_instagram_access_token",type:"GET",success:function(a){var s=$("#instagram-grupo"),o=a.response.access_token;e.userid,$.ajax({url:"https://graph.instagram.com/me/media?fields=permalink,media_url,media_type,thumbnail_url&access_token="+o,dataType:"jsonp",type:"GET",success:function(a){if(a.error)$("#instagram-grupo").hide();else{for(var o=a.data.length>e.limit?e.limit:a.data.length,t=0;t<o;t++)s.append('<div class="screenshort-item"><a href="'+a.data[t].permalink+'" '+("VIDEO"==a.data[t].media_type?' class="video" ':"")+'  target="_blank"><img src="'+("VIDEO"==a.data[t].media_type?a.data[t].thumbnail_url:a.data[t].media_url)+'" class="img-fluid" /></a></div>');$(".instagram.owl-carousel").owlCarousel({loop:!0,margin:30,mouseDrag:!0,autoplay:!0,dots:!1,center:!0,autoplayHoverPause:!0,animateOut:"fadeOut",animateIn:"fadeIn",smartSpeed:800,responsiveClass:!0,responsive:{0:{items:1},600:{items:3},1e3:{items:4}}})}},error:function(e){$("#instagram-grupo").hide()}})},error:function(e){$("#instagram-grupo").hide()}})}function carregarFotosProdutos(){var e=$("#fotos-produtos");e.append('<div class="screenshort-item"><img src="assets/img/semijoias/semijoia-na-modelo-2.webp" class="img-fluid" /></div>'),e.append('<div class="screenshort-item"><img src="assets/img/semijoias/semijoia-brinco.webp" class="img-fluid" /></div>'),e.append('<div class="screenshort-item"><img src="assets/img/semijoias/semijoia-na-modelo-3.webp" class="img-fluid" /></div>'),e.append('<div class="screenshort-item"><img src="assets/img/semijoias/semijoia-na-modelo-4.webp" class="img-fluid" /></div>'),e.append('<div class="screenshort-item"><img src="assets/img/semijoias/conjunto-de-semijoias.webp" class="img-fluid" /></div>'),e.append('<div class="screenshort-item"><img src="assets/img/semijoias/semijoia-colar.webp" class="img-fluid" /></div>'),e.append('<div class="screenshort-item"><img src="assets/img/semijoias/semijoia-pulseira.webp" class="img-fluid" /></div>'),e.append('<div class="screenshort-item"><img src="assets/img/semijoias/semijoia-pulseira-2.webp" class="img-fluid" /></div>'),e.append('<div class="screenshort-item"><img src="assets/img/semijoias/semijoia-pulseira-3.webp" class="img-fluid" /></div>'),e.append('<div class="screenshort-item"><img src="assets/img/semijoias/semijoia-na-modelo-1.webp" class="img-fluid" /></div>'),e.append('<div class="screenshort-item"><img src="assets/img/semijoias/semijoia-anel.webp" class="img-fluid" /></div>'),$(".screenshort-slide.owl-carousel").owlCarousel({loop:!0,margin:100,mouseDrag:!0,autoplay:!0,dots:!0,center:!0,smartSpeed:800,animateOut:"fadeOut",animateIn:"fadeIn",autoplayHoverPause:!0,responsiveClass:!0,responsive:{0:{items:1},600:{items:1},1e3:{items:4}}})}function limpaMsg(){var e=$(".form-message");$(e).removeClass("success"),$(e).removeClass("error"),$(e).removeClass("info"),$(e).text("");var a=$(".form-message-cadastro");$(a).removeClass("success"),$(a).removeClass("error"),$(a).removeClass("info"),$(a).text("")}function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function testaCPF(e){var a,s;if(a=0,"00000000000"==e)return!1;for(i=1;i<=9;i++)a+=parseInt(e.substring(i-1,i))*(11-i);if((10==(s=10*a%11)||11==s)&&(s=0),s!=parseInt(e.substring(9,10)))return!1;for(i=1,a=0;i<=10;i++)a+=parseInt(e.substring(i-1,i))*(12-i);return(10==(s=10*a%11)||11==s)&&(s=0),s==parseInt(e.substring(10,11))}$(".navbar-toggler").on("click",function(){$("#mainNav").hasClass("navbar-reduce")||$("#mainNav").addClass("navbar-reduce")}),$(window).on("scroll",function(){scrollWindow()}),$(".back-to-top").on("click",function(){return $("html, body").animate({scrollTop:0},1500,"easeInOutExpo"),!1}),$(".scrolltop-mf").on("click",function(){$("html, body").animate({scrollTop:0},1e3)}),$(".menu-principal").on("click",function(){$(".navbar-collapse").collapse("hide")}),$("body").scrollspy({target:"#mainNav",offset:navHeight}),$.fn.randomize=function(e){return(e?$(this).find(e):$(this).children()).parent().each(function(){$(this).children(e).sort(function(){return Math.round(Math.random())-.5}).detach().appendTo(this)}),this},$(".testimonial-slide .owl-carousel").owlCarousel({onInitialize:function(){$(".testimonial-slide .owl-carousel").randomize()},loop:!0,margin:100,mouseDrag:!0,autoplay:!0,dots:!1,animateOut:"fadeOut",autoplayHoverPause:!0,animateIn:"fadeIn",smartSpeed:800,responsiveClass:!0,responsive:{0:{items:1},600:{items:1},1e3:{items:2}}}),$(".about-slide.owl-carousel").owlCarousel({loop:!0,margin:5,mouseDrag:!0,autoplay:!0,smartSpeed:800,width:200,dots:!1,autoplayHoverPause:!0,animateOut:"fadeOut",animateIn:"fadeIn",responsiveClass:!0,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}}),$(".popup-video").magnificPopup({type:"iframe"}),$(".accordion").on("click",".title",function(){$(this).next().slideDown(),$(".accordion-info").not($(this).next()).slideUp()}),$(".accordion").on("click",".item",function(){$(this).addClass("active").siblings().removeClass("active")}),$.extend(!0,$.magnificPopup.defaults,{iframe:{patterns:{youtube:{index:"youtube.com/",id:"v=",src:"https://www.youtube.com/embed/%id%?autoplay=1"}}}}),($=jQuery).fn.inputFilter=function(e){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",function(){e(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})},$(document).ready(function(){scrollWindow(),$("#txtCelular,#txtCpf,input[name='cpf'],input[name='celular'],input[name='validacao']").inputFilter(function(e){return/^\d*$/.test(e)});var e=$("#contact-form"),a=$(".form-message");$(e).submit(function(s){if(s.preventDefault(),"5"!=$("#contact-form :input[name='validacao']").val()){$(a).removeClass("success"),$(a).removeClass("error"),$(a).addClass("info"),$(a).text("Responda corretamente quanto \xe9 2 + 3 para ser enviado o seu formul\xe1rio de contato."),$([document.documentElement,document.body]).animate({scrollTop:$(".form-message").offset().top-120},200);return}$("#cmdEnviar").text("Enviando mensagem..."),$("#cmdEnviar").prop("disabled",!0);var o=$(e).serialize();$.ajax({type:"POST",url:"https://app.dienimoraes.com.br/api/1.1/wf/site_novo_contato",data:o}).done(function(e){$(a).removeClass("error"),$(a).removeClass("info"),$(a).addClass("success"),$(a).text(JSON.parse(e).message),$("#contact-form input,#contact-form textarea").val(""),$("#cmdEnviar").prop("disabled",!1),$("#cmdEnviar").text("Enviar mensagem"),$([document.documentElement,document.body]).animate({scrollTop:$(".form-message").offset().top-120},200)}).fail(function(e){$(a).removeClass("success"),$(a).addClass("error"),$(a).removeClass("info"),$("#cmdEnviar").prop("disabled",!1),$("#cmdEnviar").text("Enviar mensagem"),""!==e.responseText?$(a).text(e.responseText):$(a).text("Desculpe, ocorreu algum problema e sua mensagem n\xe3o foi enviada, tente novamente."),$([document.documentElement,document.body]).animate({scrollTop:$(".form-message").offset().top-120},200)})});var s=$("#frmCadastro"),o=$(".form-message-cadastro");$(s).submit(function(e){if(e.preventDefault(),!1==testaCPF($("#txtCpf").val())){$(o).removeClass("success"),$(o).removeClass("error"),$(o).addClass("info"),$(o).text("O CPF informado \xe9 inv\xe1lido."),$([document.documentElement,document.body]).animate({scrollTop:$(o).offset().top-120},200);return}if(!1==validateEmail($("#txtEmail").val())){$(o).removeClass("success"),$(o).removeClass("error"),$(o).addClass("info"),$(o).text("O e-mail informado \xe9 inv\xe1lido."),$([document.documentElement,document.body]).animate({scrollTop:$(o).offset().top-120},200);return}$("#cmdEnviarCadastro").text("Processando..."),$("#cmdEnviarCadastro").prop("disabled",!0);let a=new URLSearchParams(window.location.search);var s=encodeURIComponent(document.referrer),t=a.get("utm_campaign");$.ajax({type:"POST",url:"https://app.dienimoraes.com.br/api/1.1/wf/cadastrar_candidata_formulario_p1",data:{nome_completo:$("#txtNome").val(),celular:$("#txtCelular").val(),email:$("#txtEmail").val(),cpf:$("#txtCpf").val(),utm_campaign:t,referencia:s}}).done(function(e){var a=JSON.parse(e);"success"==a.status?window.location.href=a.url:($(o).removeClass("success"),$(o).removeClass("error"),$(o).addClass("info"),$("#cmdEnviarCadastro").prop("disabled",!1),$("#cmdEnviarCadastro").text("Quero me candidatar agora"),o.text(a.mensagem),$([document.documentElement,document.body]).animate({scrollTop:$(o).offset().top-120},200))}).fail(function(e){$(o).removeClass("success"),$(o).addClass("error"),$(o).removeClass("info"),$("#cmdEnviarCadastro").prop("disabled",!1),$("#cmdEnviarCadastro").text("Quero me candidatar agora"),""!==e.responseText?$(o).text(e.responseText):$(o).text("Desculpe, ocorreu algum problema e sua mensagem n\xe3o foi enviada, tente novamente."),$([document.documentElement,document.body]).animate({scrollTop:$(o).offset().top-120},200)})})}),function(e){var a=e.pushState;e.pushState=function(s){return"function"==typeof e.onpushstate&&e.onpushstate({state:s}),a.apply(e,arguments)}}(window.history),window.onpopstate=history.onpushstate=function(e){""!=window.location.hash&&$('link[rel="canonical"]').attr("href","https://www.dienimoraes.com.br/"+window.location.hash)},""!=window.location.hash&&$('link[rel="canonical"]').attr("href","https://www.dienimoraes.com.br/"+window.location.hash);